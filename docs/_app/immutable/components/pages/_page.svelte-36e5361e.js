import{S as Ve,i as qe,s as ze,k as _,q as I,a as A,l as p,m as S,r as E,h as u,c as y,n as N,b as Y,F as a,u as L,A as ce,o as Be,H as Xe}from"../../chunks/index-fae996ac.js";/* empty css                       */const G=()=>{const i=new Date,e=new Date(i.toLocaleString("en-US",{timeZone:"America/New_York"})),t=i.getTime()-e.getTime();return new Date(i.getTime()-t)},je=i=>parseInt(i.split(":")[0])>12?parseInt(i.split(":")[0])-12+":"+i.split(":")[1]:i,W=(i,e=G())=>{const t=parseInt(i.split(":")[0]),s=parseInt(i.split(":")[1]);return e.setHours(t,s,0,0),e},We=(i,e)=>{const t=G(),s=W(i),o=W(e);return t.getTime()>=s.getTime()&&t.getTime()<=o.getTime()};function ge(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function De(i,e){for(var t=0;t<e.length;t++){var s=e[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function Ie(i,e,t){return e&&De(i.prototype,e),t&&De(i,t),i}function Oe(i){return+i.replace(/px/,"")}function Ye(i){var e=window.devicePixelRatio,t=getComputedStyle(i),s=Oe(t.getPropertyValue("width")),o=Oe(t.getPropertyValue("height"));i.setAttribute("width",(s*e).toString()),i.setAttribute("height",(o*e).toString())}function k(i,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=Math.random()*(e-i)+i;return Math.floor(s*Math.pow(10,t))/Math.pow(10,t)}function Re(i){return i[k(0,i.length)]}var Ge=.00125,Je=5e-4,Ze=9e-4,Ke=1e-5,Qe=6,$e=80,et=.9,tt=1.7,it=.2,st=.6,nt=.03,at=.07,Me=15,we=82,ot=150,rt=100,lt=250,ht=40,ct=["#fcf403","#62fc03","#f4fc03","#03e7fc","#03fca5","#a503fc","#fc03ad","#fc03c2"];function Fe(i){var e=1920;return Math.log(i)/Math.log(e)}var ke=function(){function i(e){ge(this,i);var t=e.initialPosition,s=e.direction,o=e.confettiRadius,r=e.confettiColors,n=e.emojis,l=e.emojiSize,v=e.canvasWidth,d=k(et,tt,3),c=d*Fe(v);this.confettiSpeed={x:c,y:c},this.finalConfettiSpeedX=k(it,st,3),this.rotationSpeed=n.length?.01:k(nt,at,3)*Fe(v),this.dragForceCoefficient=k(Je,Ze,6),this.radius={x:o,y:o},this.initialRadius=o,this.rotationAngle=s==="left"?k(0,.2,3):k(-.2,0,3),this.emojiSize=l,this.emojiRotationAngle=k(0,2*Math.PI),this.radiusYUpdateDirection="down";var h=s==="left"?k(we,Me)*Math.PI/180:k(-Me,-we)*Math.PI/180;this.absCos=Math.abs(Math.cos(h)),this.absSin=Math.abs(Math.sin(h));var m=k(-ot,0),f={x:t.x+(s==="left"?-m:m)*this.absCos,y:t.y-m*this.absSin};this.currentPosition=Object.assign({},f),this.initialPosition=Object.assign({},f),this.color=n.length?null:Re(r),this.emoji=n.length?Re(n):null,this.createdAt=new Date().getTime(),this.direction=s}return Ie(i,[{key:"draw",value:function(t){var s=this.currentPosition,o=this.radius,r=this.color,n=this.emoji,l=this.rotationAngle,v=this.emojiRotationAngle,d=this.emojiSize,c=window.devicePixelRatio;r?(t.fillStyle=r,t.beginPath(),t.ellipse(s.x*c,s.y*c,o.x*c,o.y*c,l,0,2*Math.PI),t.fill()):n&&(t.font="".concat(d,"px serif"),t.save(),t.translate(c*s.x,c*s.y),t.rotate(v),t.textAlign="center",t.fillText(n,0,0),t.restore())}},{key:"updatePosition",value:function(t,s){var o=this.confettiSpeed,r=this.dragForceCoefficient,n=this.finalConfettiSpeedX,l=this.radiusYUpdateDirection,v=this.rotationSpeed,d=this.createdAt,c=this.direction,h=s-d;if(o.x>n&&(this.confettiSpeed.x-=r*t),this.currentPosition.x+=o.x*(c==="left"?-this.absCos:this.absCos)*t,this.currentPosition.y=this.initialPosition.y-o.y*this.absSin*h+Ge*Math.pow(h,2)/2,this.rotationSpeed-=this.emoji?1e-4:Ke*t,this.rotationSpeed<0&&(this.rotationSpeed=0),this.emoji){this.emojiRotationAngle+=this.rotationSpeed*t%(2*Math.PI);return}l==="down"?(this.radius.y-=t*v,this.radius.y<=0&&(this.radius.y=0,this.radiusYUpdateDirection="up")):(this.radius.y+=t*v,this.radius.y>=this.initialRadius&&(this.radius.y=this.initialRadius,this.radiusYUpdateDirection="down"))}},{key:"getIsVisibleOnCanvas",value:function(t){return this.currentPosition.y<t+rt}}]),i}();function ft(){var i=document.createElement("canvas");return i.style.position="fixed",i.style.width="100%",i.style.height="100%",i.style.top="0",i.style.left="0",i.style.zIndex="1000",i.style.pointerEvents="none",document.body.appendChild(i),i}function ut(i){var e=i.confettiRadius,t=e===void 0?Qe:e,s=i.confettiNumber,o=s===void 0?i.confettiesNumber||(i.emojis?ht:lt):s,r=i.confettiColors,n=r===void 0?ct:r,l=i.emojis,v=l===void 0?i.emojies||[]:l,d=i.emojiSize,c=d===void 0?$e:d;return i.emojies&&console.error("emojies argument is deprecated, please use emojis instead"),i.confettiesNumber&&console.error("confettiesNumber argument is deprecated, please use confettiNumber instead"),{confettiRadius:t,confettiNumber:o,confettiColors:n,emojis:v,emojiSize:c}}var dt=function(){function i(e){var t=this;ge(this,i),this.canvasContext=e,this.shapes=[],this.promise=new Promise(function(s){return t.resolvePromise=s})}return Ie(i,[{key:"getBatchCompletePromise",value:function(){return this.promise}},{key:"addShapes",value:function(){var t;(t=this.shapes).push.apply(t,arguments)}},{key:"complete",value:function(){var t;return this.shapes.length?!1:((t=this.resolvePromise)===null||t===void 0||t.call(this),!0)}},{key:"processShapes",value:function(t,s,o){var r=this,n=t.timeDelta,l=t.currentTime;this.shapes=this.shapes.filter(function(v){return v.updatePosition(n,l),v.draw(r.canvasContext),o?v.getIsVisibleOnCanvas(s):!0})}}]),i}(),mt=function(){function i(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ge(this,i),this.activeConfettiBatches=[],this.canvas=e.canvas||ft(),this.canvasContext=this.canvas.getContext("2d"),this.requestAnimationFrameRequested=!1,this.lastUpdated=new Date().getTime(),this.iterationIndex=0,this.loop=this.loop.bind(this),requestAnimationFrame(this.loop)}return Ie(i,[{key:"loop",value:function(){this.requestAnimationFrameRequested=!1,Ye(this.canvas);var t=new Date().getTime(),s=t-this.lastUpdated,o=this.canvas.offsetHeight,r=this.iterationIndex%10===0;this.activeConfettiBatches=this.activeConfettiBatches.filter(function(n){return n.processShapes({timeDelta:s,currentTime:t},o,r),r?!n.complete():!0}),this.iterationIndex++,this.queueAnimationFrameIfNeeded(t)}},{key:"queueAnimationFrameIfNeeded",value:function(t){this.requestAnimationFrameRequested||this.activeConfettiBatches.length<1||(this.requestAnimationFrameRequested=!0,this.lastUpdated=t||new Date().getTime(),requestAnimationFrame(this.loop))}},{key:"addConfetti",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=ut(t),o=s.confettiRadius,r=s.confettiNumber,n=s.confettiColors,l=s.emojis,v=s.emojiSize,d=this.canvas.getBoundingClientRect(),c=d.width,h=d.height,m=h*5/7,f={x:0,y:m},P={x:c,y:m},O=new dt(this.canvasContext),C=0;C<r/2;C++){var w=new ke({initialPosition:f,direction:"right",confettiRadius:o,confettiColors:n,confettiNumber:r,emojis:l,emojiSize:v,canvasWidth:c}),D=new ke({initialPosition:P,direction:"left",confettiRadius:o,confettiColors:n,confettiNumber:r,emojis:l,emojiSize:v,canvasWidth:c});O.addShapes(w,D)}return this.activeConfettiBatches.push(O),this.queueAnimationFrameIfNeeded(),O.getBatchCompletePromise()}}]),i}();function He(i,e,t){const s=i.slice();return s[13]=e[t][0],s[14]=e[t][1],s}function vt(i){let e,t,s,o;return{c(){e=_("h2"),t=I("Time Until "),s=I(i[0]),o=I(" Ends"),this.h()},l(r){e=p(r,"H2",{class:!0});var n=S(e);t=E(n,"Time Until "),s=E(n,i[0]),o=E(n," Ends"),n.forEach(u),this.h()},h(){N(e,"class","text-2xl")},m(r,n){Y(r,e,n),a(e,t),a(e,s),a(e,o)},p(r,n){n&1&&L(s,r[0])},d(r){r&&u(e)}}}function _t(i){let e,t;return{c(){e=_("h2"),t=I("Time Until School Starts"),this.h()},l(s){e=p(s,"H2",{class:!0});var o=S(e);t=E(o,"Time Until School Starts"),o.forEach(u),this.h()},h(){N(e,"class","text-2xl")},m(s,o){Y(s,e,o),a(e,t)},p:ce,d(s){s&&u(e)}}}function Le(i){let e,t,s,o=i[4]!=1?"days":"day",r;return{c(){e=_("span"),t=I(i[1]),s=A(),r=I(o)},l(n){e=p(n,"SPAN",{});var l=S(e);t=E(l,i[1]),s=y(l),r=E(l,o),l.forEach(u)},m(n,l){Y(n,e,l),a(e,t),a(e,s),a(e,r)},p(n,l){l&2&&L(t,n[1]),l&16&&o!==(o=n[4]!=1?"days":"day")&&L(r,o)},d(n){n&&u(e)}}}function xe(i){let e,t,s,o=i[2]!=1?"hours":"hour",r;return{c(){e=_("span"),t=I(i[2]),s=A(),r=I(o)},l(n){e=p(n,"SPAN",{});var l=S(e);t=E(l,i[2]),s=y(l),r=E(l,o),l.forEach(u)},m(n,l){Y(n,e,l),a(e,t),a(e,s),a(e,r)},p(n,l){l&4&&L(t,n[2]),l&4&&o!==(o=n[2]!=1?"hours":"hour")&&L(r,o)},d(n){n&&u(e)}}}function pt(i){let e,t,s,o,r,n,l,v,d=Object.entries(i[5]),c=[];for(let h=0;h<d.length;h+=1)c[h]=Ue(He(i,d,h));return{c(){e=_("div"),t=_("div"),s=_("h1"),o=I("Period"),r=A(),n=_("h1"),l=I("Time"),v=A();for(let h=0;h<c.length;h+=1)c[h].c();this.h()},l(h){e=p(h,"DIV",{class:!0});var m=S(e);t=p(m,"DIV",{class:!0});var f=S(t);s=p(f,"H1",{class:!0});var P=S(s);o=E(P,"Period"),P.forEach(u),r=y(f),n=p(f,"H1",{class:!0});var O=S(n);l=E(O,"Time"),O.forEach(u),f.forEach(u),v=y(m);for(let C=0;C<c.length;C+=1)c[C].l(m);m.forEach(u),this.h()},h(){N(s,"class","text-3xl font-bold"),N(n,"class","text-3xl font-bold"),N(t,"class","flex justify-between"),N(e,"class","mt-4")},m(h,m){Y(h,e,m),a(e,t),a(t,s),a(s,o),a(t,r),a(t,n),a(n,l),a(e,v);for(let f=0;f<c.length;f+=1)c[f].m(e,null)},p(h,m){if(m&32){d=Object.entries(h[5]);let f;for(f=0;f<d.length;f+=1){const P=He(h,d,f);c[f]?c[f].p(P,m):(c[f]=Ue(P),c[f].c(),c[f].m(e,null))}for(;f<c.length;f+=1)c[f].d(1);c.length=d.length}},d(h){h&&u(e),Xe(c,h)}}}function Ue(i){let e,t,s=i[13]+"",o,r,n,l,v=je(i[14].start_time)+"",d,c,h,m,f,P,O=je(i[14].end_time)+"",C,w;return{c(){e=_("div"),t=_("h1"),o=I(s),r=A(),n=_("div"),l=_("h2"),d=I(v),c=A(),h=_("h2"),m=I("-"),f=A(),P=_("h2"),C=I(O),w=A(),this.h()},l(D){e=p(D,"DIV",{class:!0});var j=S(e);t=p(j,"H1",{class:!0});var x=S(t);o=E(x,s),x.forEach(u),r=y(j),n=p(j,"DIV",{class:!0});var b=S(n);l=p(b,"H2",{class:!0});var U=S(l);d=E(U,v),U.forEach(u),c=y(b),h=p(b,"H2",{class:!0});var V=S(h);m=E(V,"-"),V.forEach(u),f=y(b),P=p(b,"H2",{class:!0});var H=S(P);C=E(H,O),H.forEach(u),b.forEach(u),w=y(j),j.forEach(u),this.h()},h(){N(t,"class","text-3xl"),N(l,"class","text-2xl"),N(h,"class","text-2xl"),N(P,"class","text-2xl"),N(n,"class","flex gap-2"),N(e,"class","flex justify-between")},m(D,j){Y(D,e,j),a(e,t),a(t,o),a(e,r),a(e,n),a(n,l),a(l,d),a(n,c),a(n,h),a(h,m),a(n,f),a(n,P),a(P,C),a(e,w)},p:ce,d(D){D&&u(e)}}}function St(i){let e,t,s,o,r,n,l,v,d,c,h,m,f,P,O,C,w,D,j,x,b,U,V,H,$,fe,J=i[3]!=1?"minutes":"minute",ee,ue,X,te,de,Z=i[4]!=1?"seconds":"second",ie,me,ve,z,K,_e,pe,Q,Se;function Ee(T,g){return T[0]=="No School"?_t:vt}let se=Ee(i),F=se(i),R=i[1]>0&&Le(i),M=i[2]>0&&xe(i),q=i[5]&&pt(i);return{c(){e=_("main"),t=_("h1"),s=I("PHS Schedule"),o=A(),r=_("div"),n=_("h2"),l=I("Today's Schedule"),v=A(),d=_("h2"),c=I(i[6]),h=A(),m=_("div"),f=_("h2"),P=I("Current Period"),O=A(),C=_("h2"),w=I(i[0]),D=A(),j=_("div"),F.c(),x=A(),b=_("h1"),R&&R.c(),U=A(),M&&M.c(),V=A(),H=_("span"),$=I(i[3]),fe=A(),ee=I(J),ue=A(),X=_("span"),te=I(i[4]),de=A(),ie=I(Z),me=A(),q&&q.c(),ve=A(),z=_("div"),K=_("h3"),_e=I("Created by Stephen Shkeda"),pe=A(),Q=_("h3"),Se=I("Version 1.0"),this.h()},l(T){e=p(T,"MAIN",{class:!0});var g=S(e);t=p(g,"H1",{class:!0});var Ce=S(t);s=E(Ce,"PHS Schedule"),Ce.forEach(u),o=y(g),r=p(g,"DIV",{class:!0});var ne=S(r);n=p(ne,"H2",{class:!0});var Te=S(n);l=E(Te,"Today's Schedule"),Te.forEach(u),v=y(ne),d=p(ne,"H2",{class:!0});var be=S(d);c=E(be,i[6]),be.forEach(u),ne.forEach(u),h=y(g),m=p(g,"DIV",{class:!0});var ae=S(m);f=p(ae,"H2",{class:!0});var Ne=S(f);P=E(Ne,"Current Period"),Ne.forEach(u),O=y(ae),C=p(ae,"H2",{class:!0});var Ae=S(C);w=E(Ae,i[0]),Ae.forEach(u),ae.forEach(u),D=y(g),j=p(g,"DIV",{class:!0});var oe=S(j);F.l(oe),x=y(oe),b=p(oe,"H1",{class:!0});var B=S(b);R&&R.l(B),U=y(B),M&&M.l(B),V=y(B),H=p(B,"SPAN",{});var re=S(H);$=E(re,i[3]),fe=y(re),ee=E(re,J),re.forEach(u),ue=y(B),X=p(B,"SPAN",{});var le=S(X);te=E(le,i[4]),de=y(le),ie=E(le,Z),le.forEach(u),B.forEach(u),oe.forEach(u),me=y(g),q&&q.l(g),ve=y(g),z=p(g,"DIV",{class:!0});var he=S(z);K=p(he,"H3",{});var ye=S(K);_e=E(ye,"Created by Stephen Shkeda"),ye.forEach(u),pe=y(he),Q=p(he,"H3",{});var Pe=S(Q);Se=E(Pe,"Version 1.0"),Pe.forEach(u),he.forEach(u),g.forEach(u),this.h()},h(){N(t,"class","font-bold text-4xl"),N(n,"class","text-2xl"),N(d,"class","text-2xl font-bold"),N(r,"class","mt-6"),N(f,"class","text-2xl"),N(C,"class","text-2xl font-bold"),N(m,"class","mt-2"),N(b,"class","font-bold text-3xl"),N(j,"class","mt-2"),N(z,"class","mt-4"),N(e,"class","max-w-screen-md mx-auto pt-8 px-2")},m(T,g){Y(T,e,g),a(e,t),a(t,s),a(e,o),a(e,r),a(r,n),a(n,l),a(r,v),a(r,d),a(d,c),a(e,h),a(e,m),a(m,f),a(f,P),a(m,O),a(m,C),a(C,w),a(e,D),a(e,j),F.m(j,null),a(j,x),a(j,b),R&&R.m(b,null),a(b,U),M&&M.m(b,null),a(b,V),a(b,H),a(H,$),a(H,fe),a(H,ee),a(b,ue),a(b,X),a(X,te),a(X,de),a(X,ie),a(e,me),q&&q.m(e,null),a(e,ve),a(e,z),a(z,K),a(K,_e),a(z,pe),a(z,Q),a(Q,Se)},p(T,[g]){g&1&&L(w,T[0]),se===(se=Ee(T))&&F?F.p(T,g):(F.d(1),F=se(T),F&&(F.c(),F.m(j,x))),T[1]>0?R?R.p(T,g):(R=Le(T),R.c(),R.m(b,U)):R&&(R.d(1),R=null),T[2]>0?M?M.p(T,g):(M=xe(T),M.c(),M.m(b,V)):M&&(M.d(1),M=null),g&8&&L($,T[3]),g&8&&J!==(J=T[3]!=1?"minutes":"minute")&&L(ee,J),g&16&&L(te,T[4]),g&16&&Z!==(Z=T[4]!=1?"seconds":"second")&&L(ie,Z),T[5]&&q.p(T,g)},i:ce,o:ce,d(T){T&&u(e),F.d(),R&&R.d(),M&&M.d(),q&&q.d()}}}function gt(i,e,t){let{data:s}=e;const{schedule:o,scheduleType:r}=s;let n=null;Be(()=>{n=new mt});const l=()=>{if(o){const C=Object.entries(o)[0][1].start_time,w=Object.entries(o)[Object.entries(o).length-1][1].end_time;if(!We(C,w))return"No School";const D=G();for(const j in o){const{start_time:x,end_time:b}=o[j],U=W(x),V=W(b);if(U<D&&D<V)return j}return"Transition"}return"No School"},v=()=>{if(d==="No School"||!o)return s.nextSchoolStartTime;if(d==="Transition"){const C=G();Object.entries(o).forEach(([w,{start_time:D}])=>{if(W(D)>C)return W(D)})}return W(o[d].end_time)};let d=l(),c=v(),h=c.getTime()-G().getTime(),m=Math.floor(h/(1e3*60*60*24)),f=Math.floor(h/1e3/60/60%24),P=Math.floor(h/1e3/60%60),O=Math.floor(h/1e3%60);return setInterval(()=>{h-=1e3,t(1,m=Math.floor(h/(1e3*60*60*24))),t(2,f=Math.floor(h/1e3/60/60%24)),t(3,P=Math.floor(h/1e3/60%60)),t(4,O=Math.floor(h/1e3%60)),h<=0&&(t(0,d=l()),c=v(),h=c.getTime()-G().getTime(),n&&n.addConfetti())},1e3),i.$$set=C=>{"data"in C&&t(7,s=C.data)},[d,m,f,P,O,o,r,s]}class Ct extends Ve{constructor(e){super(),qe(this,e,gt,St,ze,{data:7})}}export{Ct as default};
